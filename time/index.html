<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>time</title>
    <style>
        body,
        html {
            height: 100%;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #000;
            overflow: hidden;
        }

        #container {
            text-align: center;
            padding: 1rem;
            max-width: 100vw;
            max-height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .time-part {
            color: #8d8d8d;
            font-family: Arial, Helvetica, sans-serif;
            font-size: clamp(8rem, 20vw, 24rem);
            font-weight: 400;
            line-height: 0.9;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }

        .date-part {
            color: #8d8d8d;
            font-family: Arial, Helvetica, sans-serif;
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 200;
            text-align: right;
            line-height: 1.2;
            margin-top: 1rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
            width: 100%;
            margin-right: 2rem;
        }

        /* Mobile devices (max-width: 768px) */
        @media screen and (max-width: 768px) {
            #container {
                padding: 0.5rem;
            }
            
            .time-part {
                font-size: clamp(4rem, 15vw, 8rem);
                line-height: 0.8;
            }
            
            .date-part {
                font-size: clamp(1rem, 3vw, 1.5rem);
                margin-top: 0.5rem;
                white-space: normal;
                text-align: right;
            }
        }

        /* Tablet devices (768px-1024px) */
        @media screen and (min-width: 769px) and (max-width: 1024px) {
            .time-part {
                font-size: clamp(10rem, 18vw, 16rem);
            }
            
            .date-part {
                font-size: clamp(1.8rem, 3.5vw, 2.2rem);
                text-align: right;
            }
        }

        /* Desktop devices (min-width: 1025px) */
        @media screen and (min-width: 1025px) {
            #container {
                max-width: 1400px;
            }
            
            .time-part {
                font-size: clamp(16rem, 20vw, 24rem);
            }
            
            .date-part {
                font-size: clamp(2rem, 4vw, 2.5rem);
                text-align: right;
            }
        }

        /* Very large screens - prevent excessive scaling */
        @media screen and (min-width: 1600px) {
            .time-part {
                font-size: 24rem;
            }
            
            .date-part {
                font-size: 2.5rem;
            }
        }

        .dbg-red {
            border-color: rgb(221, 65, 78);
            border-width: 1px;
            border-style: solid;
        }

        .dbg-green {
            border-color: rgb(46, 163, 81);
            border-width: 1px;
            border-style: solid;
        }

        .dbg-blue {
            border-color: rgb(43, 117, 177);
            border-width: 1px;
            border-style: solid;
        }
    </style>
</head>

<body>
    <div id="container" class="">
        <div id="time" class="time-part"></div>
        <div id="date" class="date-part"></div>
        <div id="dateutc" class="date-part"></div>
    </div>
    <script>
        window.addEventListener("load", (event) => {
            function getWeekNumber(d) {
                // Copy date so don't modify original
                d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
                // Set to nearest Thursday: current date + 4 - current day number
                // Make Sunday's day number 7
                d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
                // Get first day of year
                var yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
                // Calculate full weeks to nearest Thursday
                var weekNo = Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
                return weekNo;
            }

            function formatDate(date) {
                const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
                const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

                let dayName = days[date.getDay()];
                let day = date.getDate();
                let monthName = months[date.getMonth()];
                let year = date.getFullYear();
                let week = getWeekNumber(date);

                return `${dayName}, ${monthName} ${day}, ${year}, week ${week}`;
            }

            function formatTime(dateTime) {
                let hours = dateTime.getHours();
                let minutes = dateTime.getMinutes();
                let ampm = hours >= 12 ? 'pm' : 'am';

                hours = hours % 12;
                hours = hours ? hours : 12; // the hour '0' should be '12'
                minutes = minutes < 10 ? '0' + minutes : minutes;

                let strTime = hours + ':' + minutes + ' ' + ampm;
                return strTime;
            }

            function updateDateTime() {
                var d = new Date();
                var timePart = formatTime(d);
                var datePart = formatDate(d)
                console.log("time", timePart);
                console.log("date", datePart);

                document.title = timePart
                var e = document.getElementById("time");
                if (e) {
                    e.innerHTML = timePart;
                }
                var e = document.getElementById("date");
                if (e) {
                    e.innerHTML = datePart;
                }
                var e = document.getElementById("dateutc");
                if (e) {
                    e.innerHTML = d.toUTCString();
                }                

            }
            setInterval(updateDateTime, 20000);
            updateDateTime();
        });
    </script>
</body>

</html>
